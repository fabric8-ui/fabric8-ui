<app-header></app-header>
<div class="container-fluid container-cards-pf">
<button class="btn btn-primary" (click)="addCard()">Add New Work Item</button>
<div *ngIf="addingCard">
  <card-detail (close)="close($event)"></card-detail>
</div>
<br /><br />
<div class="container-fluid">
	<div class="list-group list-view-pf list-view-pf-view">
		<div *ngFor="let card of cards">
			<div class="list-group-item" (click)="onSelect(card)" [class.selected]="card === selectedCard">
				<div class="list-view-pf-actions">
					<button class="btn btn-default" (click)="gotoDetail(card)">View Details</button>
					<button class="btn btn-default delete-button" (click)="deleteCard(card, $event)">Delete</button>
					<div class="dropdown pull-right dropdown-kebab-pf">
						<button class="btn btn-link dropdown-toggle" type="button" id="dropdownKebabRight" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
							<span class="fa fa-ellipsis-v"></span>
						</button>
						<ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownKebabRight">
							<li><a href="#">Delete</a></li>
							<li><a href="#">Move to backlog</a></li>
							<li><a href="#">Change Status</a></li>
						</ul>
					</div>
				</div>
				<div class="list-view-pf-main-info">
					<div class="list-view-pf-left status">
						<span class="label" [ngClass]="{'label-warning': card.statusCode==0, 'label-primary': card.statusCode==1, 'label-success': card.statusCode==2 }">{{card.status}}</span>
					</div>
					<div class="list-view-pf-left type">
						<span class='fa' [ngClass]="{'fa-bookmark': card.workItemType=='story', 'fa-bug':card.workItemType=='bug'}"></span>
							{{card.id}}
      		</div>
	      <div class="list-view-pf-body">
	        <div class="list-view-pf-description">
	          <div class="list-group-item-heading">
	             {{card.name}}
	          </div>
						<div class="list-group-item-text">
            	{{card.description}}
          	</div>
	        </div>
	      </div>
    	</div>
			</div>
			<div *ngIf="card.isExpanded" class="card-details" >
      			{{card.name | uppercase}} - {{card.description}}
				<hr />
      		</div>
		</div>
	</div>
</div>
<div class="error" *ngIf="error">{{error}}</div>
</div>
<app-footer></app-footer>
